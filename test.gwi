波形文字列の書き方:
・書式はmml2vgmのHuC6280用波形文字列に準じます。
・4bitリニア(2の補数表現)の32サンプル(16バイト)の波形を、上位4ビット→下位4ビットの順に記述します。
　※PiSTARTERは波形文字列を下位4ビット→上位4ビットの順に再生しますが、その入れ替えはsndplay側で行ってます。
・0～9はそのまま、a→10、b→11、…f→15、と記述してください。

'@ H  0,
   +0 +1 +2 +3 +4 +5 +6 +7
'@ 06,06,06,06,06,06,06,06,
'@ 06,06,06,06,06,06,06,06,
'@ 08,08,08,08,08,08,08,08,
'@ 08,08,08,08,08,08,08,08,

'@ H  1,
   +0 +1 +2 +3 +4 +5 +6 +7
'@ 08,08,09,09,10,10,11,11,
'@ 12,12,13,13,14,14,15,15,
'@ 00,00,01,01,02,02,03,03,
'@ 04,04,05,05,06,06,07,07,

'@ H  2,
   +0 +1 +2 +3 +4 +5 +6 +7
'@ 08,10,11,12,14,14,12,13,
'@ 01,02,02,00,02,15,02,01,
'@ 15,15,01,14,00,14,13,14,
'@ 02,04,02,02,04,05,06,07,

'@ H  3,
   +0 +1 +2 +3 +4 +5 +6 +7
'@ 03,05,06,05,04,02,00,00,
'@ 00,02,04,05,06,05,03,00,
'@ 12,10,09,10,11,13,15,15,
'@ 15,13,11,10,09,10,12,15,

'@ H  4,
   +0 +1 +2 +3 +4 +5 +6 +7
'@ 15,02,04,05,06,05,04,02,
'@ 15,12,10,09,08,09,10,12,
'@ 15,03,05,06,05,03,15,11,
'@ 09,08,09,11,15,06,15,08,

'@ H  5,
   +0 +1 +2 +3 +4 +5 +6 +7
'@ 02,04,04,02,15,15,00,03,
'@ 05,06,05,02,14,13,13,15,
'@ 01,01,00,12,09,08,09,11,
'@ 14,15,15,12,10,10,12,15,

'@ H  6,
   +0 +1 +2 +3 +4 +5 +6 +7
'@ 15,06,04,01,04,06,02,15,
'@ 04,07,05,00,02,03,15,10,
'@ 00,05,01,12,13,15,10,08,
'@ 11,00,13,09,11,14,11,09,

'@ H  7,
   +0 +1 +2 +3 +4 +5 +6 +7
'@ 06,06,15,15,06,06,15,15,
'@ 06,06,15,15,06,06,15,15,
'@ 08,08,15,15,08,08,15,15,
'@ 08,08,15,15,08,08,15,15,


このOPM用音色定義は書いておいてください。
サウンドデバイスの音量の制御にアルゴリズムとTotal Levelを使っています。

'@ M 1
'@ 0 0 0 0 0 0 0 0 0 0 0
'@ 0 0 0 0 0 1 0 0 0 0 0
'@ 0 0 0 0 0 2 0 0 0 0 0
'@ 0 0 0 0 0 3 0 0 0 0 0
'@ 7 0


波形の定義
波形文字列を設定するために、以下の記述を入れてください。
先頭から順に、サウンドデバイスの波形番号0から設定されます。
'H1 @0@1@2@3@4@5@6@7


再生するMML

サウンドデバイスへ波形を登録するためのウェイト用として、以下の記述を入れてください。
'X12345678 r4@1
'Xs12345678 r4@1

MMLの記述方法について
・プライマリ側のOPM(X1～X8)が、サウンドデバイスの0～7チャンネルです。
　セカンダリ側のOPM(Xs1～Xs8)が、サウンドデバイスの8～15チャンネルです。
・OPM用のVGMデータ中に「波形の選択」を埋め込むために
　実機では使われていないアドレス0x02のレジスタを使ってます。
　yコマンドで0x02へ値を設定してください。
　値は上位4ビットがサウンドデバイスのチャンネル(0～7)、下位4ビットが波形文字列(0～7)となります。
　10進数で記述します。
　※セカンダリOPMのch2に波形3を指定する場合…2*16+3=35なので「Xs2 y02,35」

波形文字列を0～7まで順番に、ch1～16を順につかって音を出すサンプル
'X1 T150
'X1 l4@1v100 y02,00 o4cdefgabr
'X2 [r1]2 l4@1v100 y02,17 o4cdefgabr
'X3 [r1]4 l4@1v100 y02,34 o4cdefgabr
'X4 [r1]6 l4@1v100 y02,51 o4cdefgabr
'X5 [r1]8 l4@1v100 y02,68 o4cdefgabr
'X6 [r1]10l4@1v100 y02,85 o4cdefgabr
'X7 [r1]12l4@1v100 y02,102 o4cdefgabr
'X8 [r1]14l4@1v100 y02,119 o4cdefgabr

'Xs1 [r1]16l4@1v100 y02,0 o4cdefgabr
'Xs2 [r1]18l4@1v100 y02,17 o4cdefgabr
'Xs3 [r1]20l4@1v100 y02,34 o4cdefgabr
'Xs4 [r1]22l4@1v100 y02,51 o4cdefgabr
'Xs5 [r1]24l4@1v100 y02,68 o4cdefgabr
'Xs6 [r1]26l4@1v100 y02,85 o4cdefgabr
'Xs7 [r1]28l4@1v100 y02,102 o4cdefgabr
'Xs8 [r1]30l4@1v100 y02,119 o4cdefgabr

